<?php

use PHPUnit\Framework\TestCase;

use App\Http\Controllers\PaperController;
use App\Http\Controllers\WordCloudController;


class GetWordCloudTest extends TestCase
{
    /**
     * 
     * @covers App\Http\Controllers\PaperController::combineAbstractsFromPapers 
     *
     */
    public function testCombineAbstracts() {
		$controller = new PaperController();
		$papers = $controller->getPapersFromKeywords("asdf");
		$abstractText = $controller->combineAbstractsFromPapers($papers['document']);
		$testAbstractCombine = "summary form only given. in 1992 philips lighting introduced the ql-lamp, an inductively coupled low pressure rf discharge containing a mixture of argon and mercury. its main advantage is the absence of electrodes, which benefits the life-time. in order to improve our knowledge of this kind of plasmas a model to has been developed and measurements have been performed. in the near future the model will be used to optimize this lamp. in every plasma the free electrons are an important species: they control the energy transfer from the electromagnetic field to the heavy particle's. therefore, it is important to know the spatial distribution of the electron temperature and of the electron density. these parameters can be obtained from the atomic state distribution function (asdf), since the levels close the ionization limit are in partial local saha equilibrium (plse), i.e. they are populated according to the saha relation. from the asdf also the densities of the mercury and argon ions can be determined. the densities of the excited states are obtained from absolute line intensity measurements. the intensities are measured using a combination of a monochromator and a two dimensional ccd-array. in one dimension of the ccd-camera the information is depicted as function of the wavelength and in the other as function of the lateral position. in this way the lateral profiles of the line and the continuum are obtained at once. the setup is calibrated by a tungsten ribbon lamp. however, it appears that the highly excited, measurable, states are not in plse, indicating that the ql plasma is far from saha equilibrium. in order to obtain the electron densities and temperatures the asdf has to be combined with either measurements of continuum radiation or a collisional radiative model (crm). basic aspects of time delay estimation (tde) based on sampled signals are investigated. the direct cross-correlation method is analyzed and compared to the average square difference function (asdf) and the (addition only based) average magnitude difference function (amdf) estimators, their relative accuracy is theoretically evaluated, and previous empirical results are explained. it is shown that both the asdf- and the amdf-based estimators outperform the direct cross-correlation based estimator for medium-high signal-to-noise ratios. moreover, the amdf-based estimator, which avoids any multiplications, significantly reduces the computational complexity of the estimation procedure while offering only a moderate performance loss with respect to the asdf based estimator spectrum decision is the ability of a cognitive radio (cr) system to select the best available spectrum band to satisfy dynamic spectrum access network (dsan) users' quality of service (qos) requirements without causing harmful interference to primary users. in order to have reliable spectrum decision, cr nodes or secondary users (sus) should identify available spectrum bands and from these candidate spectrum, a su can select channels which are suitable to meet user qos requirements. this paper proposes an adaptive spectrum decision framework (asdf) which is a channel allocation scheme that selects suitable channels from a list of available channels based on su preferred options. the scheme relies on a geo-location spectrum database for identification of available chanels. key parameters (i.e. available channel bandwidth, time, and power) are extracted from each available spectrum and tagged according to their level in order to build a matrix of available channels. our asdf then maps channels with sus based on channel properties and su preferred options. simulation results show that our asdf is reliable and consistent when it comes to channel selection. furthermore, our scheme provides efficient bandwidth utilization when compared to the first come first serve channel allocation scheme. usually, the majority of language constructs found in a programming language can also be found in many other languages, because language design is based on reuse. this should be reflected in the way we give semantics to programming languages. it can be achieved by making a language description consist of a collection of modules, each defining a single language construct. the description of a single language construct should be language independent, so that it can be reused in other descriptions without any changes. we call a language description framework 'constructive' when it supports independent description of individual constructs. we present a case study in constructive semantic description. the case study is a description of core ml, consisting of a mapping from it to bas (basic abstract syntax) and action semantic descriptions of the individual bas constructs. the latter are written in asdf (action semantics definition formalism), a formalism specially designed for writing action semantic descriptions of single language constructs. tool support is provided by the asf+sdf meta-environment and by the action environment, which is a new extension of the asf+sdf meta-environment. the demand for huge storage space on data-intensive applications and high-performance scientific computing continues to grow. to integrate massive distributed storage resources for providing huge storage space is an important and challenging issue in cloud and grid computing. in this paper, we propose a distributed file system, called asdf, to meet the demands of not only data-intensive applications but also end users, developers and administrators. while sharing many of the same goals as previous distributed file systems such as scalability, reliability, and performance, it is also designed with the emphasis on compatibility, extensibility and autonomy. with the design goals in minds, we address several issues and present our design by adopting peer-to-peer technology, replication, multi-source data transfer, metadata caching and service-oriented architecture. the experimental results show the proposed distributed file system meet our design goals and will be useful in cloud and grid computing. summary form only given. high intensity discharge (hid) lamps have a small volume, high pressure and high luminance. this makes them very useful for illumination of large surface areas such as streets and stadiums. a numerical model is being set up in order to fully understand the energy balance and transport processes in such lamps. the model can be greatly simplified if the discharge of the hid lamp is in local thermodynamic equilibrium (lte). lte was experimentally investigated by determining the temperature of a model hid mercury lamp. this lamp has an arc length of 39 mm and an 18 mm diameter. it contains pure mercury and has no outer jacket. the validation of the lte assumption requires the measurements of different temperatures. this was done using three different techniques. x-ray absorption (xra) measures the heavy-particle temperature, thomson scattering (ts) the electron temperature, absolute line intensity (ali) measurements determine the excitation temperature. by comparing the different temperatures the lte assumption can be validated. xra uses an x-ray source, produced by a molybdenum anode, for the plane-wave illumination of the entire lamp. this is done for both lamp-on and off measurements. the hg density distribution follows from the ratio of these, from which the heavy particle temperature can be determined using the ideal gas law. ts is the scattering of (laser) light on the electrons in the plasma. from the scattered photons the electron temperature and density can be determined. emission spectroscopy (ali) is used to determine the state density of mercury from the different optically thin lines. an atomic state distribution function (asdf) then gives the excitation temperature. the ts temperature profile shows a relatively constant radial profile, whereas the xra profile is parabolic. this is a clear indication of departure from lte in the outer regions of the discharge. summary form only given. the torche a injection axiale (tia), i.e. torch with axial gas injection, was developed by the group of moisan in 1993. we report on the investigations on two different kind of plasmas created by the tia: one with helium and the other with argon as main gas. using absolute line intensity measurements the densities of the excited states are determined. applying the ideal gas law yields the ground state density. it is found that the excitation temperature ranges from 3000 to 11000 k. apparently the atomic state distribution function (asdf) does not obey the saha-boltzmann law. this indicates that these plasmas are far from local thermal equilibrium (lte). from the shape of the asdf it can be concluded that the plasma is ionising. the electron temperature and the electron density are determined using thomson scattering. in the plasma with helium as main gas, temperatures around 25000 k and densities between 0.64 and 5.1/spl times/10/sup 20/ m/sup -3/ are found. in an argon plasma the electron temperature is lower and the electron density is higher: 17000 k and around 10/sup 21/ m/sup -3/ respectively. using the electron temperatures and densities as found by thomson scattering, it can be established that the ionisation rates of both plasmas am much larger than the recombination rates, which means that the plasmas are far from saha equilibrium. time delay estimation (tde) is an important problem in many fields of the engineering. the work is looking from the sonar based applications point of view, where the time difference between transmitted pulse and received echo is important for target and object detection and recognition. from many available well know methods, only three time domain methods were considered and investigated: direct correlation function (dcf), average square difference function (asdf), and average magnitude difference function (amdf). results obtained for tde are compared by simulation. we investigate the resolutions of the methods depending on snr. all investigate methods are valid down to 0 db signal to noise ratio (snr). dcf algorithms seems to have the best behavior, in the sense that they have the constant estimations over a wide range of snr. the asdf and amdf based methods needs an estimation of the range where the delay could be. all estimations are biased and slightly depend on the value of the time delay. ";
		$this->assertEquals($abstractText, $testAbstractCombine);
    }


	/**
	 *
	 * @covers App\Http\Controllers\PaperController::createWordListFromText
	 *
	 */
	public function testCreateWordListFromText(){
		$controller = new PaperController();
		$papers = $controller->getPapersFromKeywords("asdf");
		$abstractText = $controller->combineAbstractsFromIEEEPapers($papers['document']);
		$wordList = $controller->createWordListFromText($abstractText);

		$this->assertEquals(count($wordList) <= 100, 1);
	}


	/**
	 *
	 * @covers App\Http\Controllers\WordCloudController::createWordCloudString
	 *
	 */
	public function testCreateWordCloudString(){
		$controller = new PaperController();
		$papers = $controller->getPapersFromKeywords("asdf");
		$abstractText = $controller->combineAbstractsFromIEEEPapers($papers['document']);
		$wordList = $controller->createWordListFromText($abstractText);
		$wccontroller = new WordCloudController();
		$wcString = $wccontroller->createWordCloudString($wordList, "asdf", "keyword");

		$this->assertEquals(count($wcString), 1);
	}

}
